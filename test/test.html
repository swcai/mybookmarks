
// DEFLATE, base64 by Dan Kogai http://github.com/dankogai/
(function(){var V=function(){for(var f=[],n="A".charCodeAt(0),m="a".charCodeAt(0),i="0".charCodeAt(0),k=0;k<26;k++)f.push(n+k);for(k=0;k<26;k++)f.push(m+k);for(k=0;k<10;k++)f.push(i+k);f.push("+".charCodeAt(0));f.push("/".charCodeAt(0));return f}(),E=function(f){for(var n={},m=0,i=f.length;m<i;m++)n[f.charAt(m)]=m;return n}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),q=function(f){for(var n=[],m=0,i=f.length;m<i;m++)n[m]=f.charCodeAt(m);return n},O=function(f){for(var n=0;f.length%
3;){f.push(0);n++}for(var m=[],i=0,k=f.length;i<k;i+=3){var h=f[i],K=f[i+1],F=f[i+2];if(h>=256||K>=256||F>=256)throw"unsupported character found";h=h<<16|K<<8|F;m.push(V[h>>>18],V[h>>>12&63],V[h>>>6&63],V[h&63])}for(;n--;)m[m.length-n-1]="=".charCodeAt(0);return String.fromCharCode.apply(String,m)},W=function(f){f=f.replace(/[^A-Za-z0-9+\/]+/g,"");for(var n=[],m=f.length%4,i=0,k=f.length;i<k;i+=4){var h=(E[f.charAt(i)]||0)<<18|(E[f.charAt(i+1)]||0)<<12|(E[f.charAt(i+2)]||0)<<6|(E[f.charAt(i+3)]||
0);n.push(h>>16,h>>8&255,h&255)}n.length-=[0,0,2,1][m];return n},B=function(f){for(var n=[],m=0,i=f.length;m<i;m++){var k=f[m];if(k<128)n.push(k);else k<2048?n.push(192|k>>>6,128|k&63):n.push(224|k>>>12&15,128|k>>>6&63,128|k&63)}return n},u=function(f){for(var n=[],m=0,i=f.length;m<i;m++){var k=f[m];if(k<128)n.push(k);else{var h=f[++m];if(k<224)n.push((k&31)<<6|h&63);else{var K=f[++m];n.push((k&15)<<12|(h&63)<<6|K&63)}}}return n},v=function(f){return O(q(f))},X=function(f){return String.fromCharCode.apply(String,
W(f))},j=function(f){return String.fromCharCode.apply(String,u(f))},Y=function(f){return String.fromCharCode.apply(String,u(q(f)))},Z=function(f){return B(q(f))},y=function(f){return String.fromCharCode.apply(String,B(q(f)))};if(window.btoa)var G=window.btoa,x=function(f){return G(y(f))};else{G=v;x=function(f){return O(Z(f))}}if(window.atob)var C=window.atob,z=function(f){return Y(C(f))};else{C=X;z=function(f){return j(W(f))}}window.Base64={convertUTF8ArrayToBase64:O,convertByteArrayToBase64:O,convertBase64ToUTF8Array:W,
convertBase64ToByteArray:W,convertUTF16ArrayToUTF8Array:B,convertUTF16ArrayToByteArray:B,convertUTF8ArrayToUTF16Array:u,convertByteArrayToUTF16Array:u,convertUTF8StringToBase64:v,convertBase64ToUTF8String:X,convertUTF8StringToUTF16Array:function(f){return u(q(f))},convertUTF8ArrayToUTF16String:j,convertByteArrayToUTF16String:j,convertUTF8StringToUTF16String:Y,convertUTF16StringToUTF8Array:Z,convertUTF16StringToByteArray:Z,convertUTF16ArrayToUTF8String:function(f){return String.fromCharCode.apply(String,
B(f))},convertUTF16StringToUTF8String:y,convertUTF16StringToBase64:x,convertBase64ToUTF16String:z,fromBase64:X,toBase64:v,atob:C,btoa:G,utob:y,btou:Y,encode:x,encodeURI:function(f){return x(f).replace(/[+\/]/g,function(n){return n=="+"?"-":"_"}).replace(/=+$/,"")},decode:function(f){return z(f.replace(/[-_]/g,function(n){return n=="-"?"+":"/"}))}}})();
(function(){var V=parseInt(5),E,q,O,W,B=null,u,v,X,j,Y,Z,y,G,x,C,z,f,n,m,i,k,h,K,F,t,Ga,va,$,Ha,L,P,Q,aa,w,H,I,R,A,r,S,ca,M,ea,ba,wa,ja,ka,T,la,xa,fa,ma,da,na,oa,ya,ga=function(){this.dl=this.fc=0},za=function(){this.extra_bits=this.static_tree=this.dyn_tree=null;this.max_code=this.max_length=this.elems=this.extra_base=0},N=function(c,e,b,a){this.good_length=c;this.max_lazy=e;this.nice_length=b;this.max_chain=a},Ua=function(){this.next=null;this.len=0;this.ptr=Array(8192);this.off=0},Aa=[0,0,0,0,
0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ha=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Va=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ia=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ba=[new N(0,0,0,0),new N(4,4,8,4),new N(4,5,16,8),new N(4,6,32,32),new N(4,4,16,16),new N(8,16,32,32),new N(8,16,128,128),new N(8,32,128,256),new N(32,128,258,1024),new N(32,258,258,4096)],pa=function(c){B[v+u++]=c;if(v+u==8192)if(u!=0){var e;if(E!=null){c=E;E=E.next}else c=new Ua;
c.next=null;c.len=c.off=0;c=c;if(q==null)q=O=c;else O=O.next=c;c.len=u-v;for(e=0;e<c.len;e++)c.ptr[e]=B[v+e];u=v=0}},qa=function(c){c&=65535;if(v+u<8190){B[v+u++]=c&255;B[v+u++]=c>>>8}else{pa(c&255);pa(c>>>8)}},ra=function(){z=(z<<V^j[h+3-1]&255)&8191;f=y[32768+z];y[h&32767]=f;y[32768+z]=h},U=function(c,e){D(e[c].fc,e[c].dl)},Ja=function(c,e,b){return c[e].fc<c[b].fc||c[e].fc==c[b].fc&&M[e]<=M[b]},Ka=function(c,e,b){var a;for(a=0;a<b&&ya<oa.length;a++)c[e+a]=oa.charCodeAt(ya++)&255;return a},La=function(c){var e=
Ga,b=h,a,d=k,g=h>32506?h-32506:0,l=h+258,o=j[b+d-1],p=j[b+d];if(k>=Ha)e>>=2;do{a=c;if(!(j[a+d]!=p||j[a+d-1]!=o||j[a]!=j[b]||j[++a]!=j[b+1])){b+=2;a++;do;while(j[++b]==j[++a]&&j[++b]==j[++a]&&j[++b]==j[++a]&&j[++b]==j[++a]&&j[++b]==j[++a]&&j[++b]==j[++a]&&j[++b]==j[++a]&&j[++b]==j[++a]&&b<l);a=258-(l-b);b=l-258;if(a>d){K=c;d=a;if(a>=258)break;o=j[b+d-1];p=j[b+d]}}}while((c=y[c&32767])>g&&--e!=0);return d},Ca=function(){var c,e,b=65536-t-h;if(b==-1)b--;else if(h>=65274){for(c=0;c<32768;c++)j[c]=j[c+
32768];K-=32768;h-=32768;C-=32768;for(c=0;c<8192;c++){e=y[32768+c];y[32768+c]=e>=32768?e-32768:0}for(c=0;c<32768;c++){e=y[c];y[c]=e>=32768?e-32768:0}b+=32768}if(!F){c=Ka(j,h+t,b);if(c<=0)F=true;else t+=c}},Wa=function(c,e,b){var a;if(!W){if(!F){x=G=0;var d,g;if(aa[0].dl==0){H.dyn_tree=L;H.static_tree=Q;H.extra_bits=Aa;H.extra_base=257;H.elems=286;H.max_length=15;H.max_code=0;I.dyn_tree=P;I.static_tree=aa;I.extra_bits=ha;I.extra_base=0;I.elems=30;I.max_length=15;I.max_code=0;R.dyn_tree=w;R.static_tree=
null;R.extra_bits=Va;R.extra_base=0;R.elems=19;R.max_length=7;for(g=d=R.max_code=0;g<28;g++){wa[g]=d;for(a=0;a<1<<Aa[g];a++)ea[d++]=g}ea[d-1]=g;for(g=d=0;g<16;g++){ja[g]=d;for(a=0;a<1<<ha[g];a++)ba[d++]=g}for(d>>=7;g<30;g++){ja[g]=d<<7;for(a=0;a<1<<ha[g]-7;a++)ba[256+d++]=g}for(a=0;a<=15;a++)A[a]=0;for(a=0;a<=143;){Q[a++].dl=8;A[8]++}for(;a<=255;){Q[a++].dl=9;A[9]++}for(;a<=279;){Q[a++].dl=7;A[7]++}for(;a<=287;){Q[a++].dl=8;A[8]++}Ma(Q,287);for(a=0;a<30;a++){aa[a].dl=5;aa[a].fc=Na(a,5)}Oa()}for(a=
0;a<8192;a++)y[32768+a]=0;va=Ba[$].max_lazy;Ha=Ba[$].good_length;Ga=Ba[$].max_chain;C=h=0;t=Ka(j,0,65536);if(t<=0){F=true;t=0}else{for(F=false;t<262&&!F;)Ca();for(a=z=0;a<2;a++)z=(z<<V^j[a]&255)&8191}q=null;v=u=0;if($<=3){k=2;i=0}else{i=2;m=0}X=false}W=true;if(t==0){X=true;return 0}}if((a=Pa(c,e,b))==b)return b;if(X)return a;if($<=3)for(;t!=0&&q==null;){ra();if(f!=0&&h-f<=32506){i=La(f);if(i>t)i=t}if(i>=3){g=ia(h-K,i-3);t-=i;if(i<=va){i--;do{h++;ra()}while(--i!=0);h++}else{h+=i;i=0;z=j[h]&255;z=(z<<
V^j[h+1]&255)&8191}}else{g=ia(0,j[h]&255);t--;h++}if(g){sa(0);C=h}for(;t<262&&!F;)Ca()}else for(;t!=0&&q==null;){ra();k=i;n=K;i=2;if(f!=0&&k<va&&h-f<=32506){i=La(f);if(i>t)i=t;i==3&&h-K>4096&&i--}if(k>=3&&i<=k){g=ia(h-1-n,k-3);t-=k-1;k-=2;do{h++;ra()}while(--k!=0);m=0;i=2;h++;if(g){sa(0);C=h}}else{if(m!=0){if(ia(0,j[h-1]&255)){sa(0);C=h}}else m=1;h++;t--}for(;t<262&&!F;)Ca()}if(t==0){m!=0&&ia(0,j[h-1]&255);sa(1);X=true}return a+Pa(c,a+e,b-a)},Pa=function(c,e,b){var a,d,g;for(a=0;q!=null&&a<b;){d=
b-a;if(d>q.len)d=q.len;for(g=0;g<d;g++)c[e+a+g]=q.ptr[q.off+g];q.off+=d;q.len-=d;a+=d;if(q.len==0){d=q;q=q.next;d=d;d.next=E;E=d}}if(a==b)return a;if(v<u){d=b-a;if(d>u-v)d=u-v;for(g=0;g<d;g++)c[e+a+g]=B[v+g];v+=d;a+=d;if(u==v)u=v=0}return a},Oa=function(){var c;for(c=0;c<286;c++)L[c].fc=0;for(c=0;c<30;c++)P[c].fc=0;for(c=0;c<19;c++)w[c].fc=0;L[256].fc=1;fa=T=la=xa=da=na=0;ma=1},Da=function(c,e){for(var b=r[e],a=e<<1;a<=S;){a<S&&Ja(c,r[a+1],r[a])&&a++;if(Ja(c,b,r[a]))break;r[e]=r[a];e=a;a<<=1}r[e]=
b},Ma=function(c,e){var b=Array(16),a=0,d;for(d=1;d<=15;d++){a=a+A[d-1]<<1;b[d]=a}for(a=0;a<=e;a++){d=c[a].dl;if(d!=0)c[a].fc=Na(b[d]++,d)}},Fa=function(c){var e=c.dyn_tree,b=c.static_tree,a=c.elems,d,g=-1,l=a;S=0;ca=573;for(d=0;d<a;d++)if(e[d].fc!=0){r[++S]=g=d;M[d]=0}else e[d].dl=0;for(;S<2;){d=r[++S]=g<2?++g:0;e[d].fc=1;M[d]=0;da--;if(b!=null)na-=b[d].dl}c.max_code=g;for(d=S>>1;d>=1;d--)Da(e,d);do{d=r[1];r[1]=r[S--];Da(e,1);b=r[1];r[--ca]=d;r[--ca]=b;e[l].fc=e[d].fc+e[b].fc;M[l]=M[d]>M[b]+1?M[d]:
M[b]+1;e[d].dl=e[b].dl=l;r[1]=l++;Da(e,1)}while(S>=2);r[--ca]=r[1];l=c.dyn_tree;d=c.extra_bits;a=c.extra_base;b=c.max_code;var o=c.max_length,p=c.static_tree,J,s,ta,Ea,ua=0;for(s=0;s<=15;s++)A[s]=0;l[r[ca]].dl=0;for(c=ca+1;c<573;c++){J=r[c];s=l[l[J].dl].dl+1;if(s>o){s=o;ua++}l[J].dl=s;if(!(J>b)){A[s]++;ta=0;if(J>=a)ta=d[J-a];Ea=l[J].fc;da+=Ea*(s+ta);if(p!=null)na+=Ea*(p[J].dl+ta)}}if(ua!=0){do{for(s=o-1;A[s]==0;)s--;A[s]--;A[s+1]+=2;A[o]--;ua-=2}while(ua>0);for(s=o;s!=0;s--)for(J=A[s];J!=0;){d=r[--c];
if(!(d>b)){if(l[d].dl!=s){da+=(s-l[d].dl)*l[d].fc;l[d].fc=s}J--}}}Ma(e,g)},Qa=function(c,e){var b,a=-1,d,g=c[0].dl,l=0,o=7,p=4;if(g==0){o=138;p=3}c[e+1].dl=65535;for(b=0;b<=e;b++){d=g;g=c[b+1].dl;if(!(++l<o&&d==g)){if(l<p)w[d].fc+=l;else if(d!=0){d!=a&&w[d].fc++;w[16].fc++}else if(l<=10)w[17].fc++;else w[18].fc++;l=0;a=d;if(g==0){o=138;p=3}else if(d==g){o=6;p=3}else{o=7;p=4}}}},Ra=function(c,e){var b,a=-1,d,g=c[0].dl,l=0,o=7,p=4;if(g==0){o=138;p=3}for(b=0;b<=e;b++){d=g;g=c[b+1].dl;if(!(++l<o&&d==
g)){if(l<p){do U(d,w);while(--l!=0)}else if(d!=0){if(d!=a){U(d,w);l--}U(16,w);D(l-3,2)}else if(l<=10){U(17,w);D(l-3,3)}else{U(18,w);D(l-11,7)}l=0;a=d;if(g==0){o=138;p=3}else if(d==g){o=6;p=3}else{o=7;p=4}}}},sa=function(c){var e,b,a,d;d=h-C;ka[xa]=fa;Fa(H);Fa(I);Qa(L,H.max_code);Qa(P,I.max_code);Fa(R);for(a=18;a>=3;a--)if(w[Ia[a]].dl!=0)break;da+=3*(a+1)+5+5+4;a=a;e=da+3+7>>3;b=na+3+7>>3;if(b<=e)e=b;if(d+4<=e&&C>=0){D(0+c,3);Sa();qa(d);qa(~d);for(a=0;a<d;a++)pa(j[C+a])}else if(b==e){D(2+c,3);Ta(Q,
aa)}else{D(4+c,3);d=H.max_code+1;e=I.max_code+1;a=a+1;D(d-257,5);D(e-1,5);D(a-4,4);for(b=0;b<a;b++)D(w[Ia[b]].dl,3);Ra(L,d-1);Ra(P,e-1);Ta(L,P)}Oa();c!=0&&Sa()},ia=function(c,e){Z[T++]=e;if(c==0)L[e].fc++;else{c--;L[ea[e]+256+1].fc++;P[(c<256?ba[c]:ba[256+(c>>7)])&255].fc++;Y[la++]=c;fa|=ma}ma<<=1;if((T&7)==0){ka[xa++]=fa;fa=0;ma=1}if($>2&&(T&4095)==0){var b=T*8,a=h-C,d;for(d=0;d<30;d++)b+=P[d].fc*(5+ha[d]);b>>=3;if(la<parseInt(T/2)&&b<parseInt(a/2))return true}return T==8191||la==8192},Ta=function(c,
e){var b,a=0,d=0,g=0,l=0,o,p;if(T!=0){do{if((a&7)==0)l=ka[g++];b=Z[a++]&255;if((l&1)==0)U(b,c);else{o=ea[b];U(o+256+1,c);p=Aa[o];if(p!=0){b-=wa[o];D(b,p)}b=Y[d++];o=(b<256?ba[b]:ba[256+(b>>7)])&255;U(o,e);p=ha[o];if(p!=0){b-=ja[o];D(b,p)}}l>>=1}while(a<T)}U(256,c)},D=function(c,e){if(x>16-e){G|=c<<x;qa(G);G=c>>16-x;x+=e-16}else{G|=c<<x;x+=e}},Na=function(c,e){var b=0;do{b|=c&1;c>>=1;b<<=1}while(--e>0);return b>>1},Sa=function(){if(x>8)qa(G);else x>0&&pa(G);x=G=0};window.RawDeflate||(RawDeflate={});
RawDeflate.deflate=function(c,e){var b,a;oa=c;ya=0;if(typeof e=="undefined")e=6;if(b=e)if(b<1)b=1;else{if(b>9)b=9}else b=6;$=b;F=W=false;if(B==null){E=q=O=null;B=Array(8192);j=Array(65536);Y=Array(8192);Z=Array(32832);y=Array(65536);L=Array(573);for(b=0;b<573;b++)L[b]=new ga;P=Array(61);for(b=0;b<61;b++)P[b]=new ga;Q=Array(288);for(b=0;b<288;b++)Q[b]=new ga;aa=Array(30);for(b=0;b<30;b++)aa[b]=new ga;w=Array(39);for(b=0;b<39;b++)w[b]=new ga;H=new za;I=new za;R=new za;A=Array(16);r=Array(573);M=Array(573);
ea=Array(256);ba=Array(512);wa=Array(29);ja=Array(30);ka=Array(parseInt(1024))}for(var d=Array(1024),g=[];(b=Wa(d,0,d.length))>0;){var l=Array(b);for(a=0;a<b;a++)l[a]=String.fromCharCode(d[a]);g[g.length]=l.join("")}oa=null;return g.join("")}})();


var bodyipb890687, _greaderipb890687;

function jbsipb890687(html)
{
    html = html.replace(/<!--.*?-->/ig, '');    
        if (html.length > 384000) return html; /* too big to deflate quickly */
    var def = Base64.convertUTF8StringToBase64(RawDeflate.deflate(unescape(encodeURIComponent(html))));
    if (def.length >= 65536) return html; /* bug, these libs stop at 64K */
    return '<' + '![D[' + Base64.convertUTF8StringToBase64(RawDeflate.deflate(unescape(encodeURIComponent(html))));        
    }

function _ipSendipb890687(href, title, from_greader)
{
    var d=document,
        l=d.location,
        e=window.getSelection,
        k=d.getSelection,
        x=d.selection,
        s=String(e? e(): (k)? k(): (x?x.createRange().text: '')),
        e=encodeURIComponent,
        z=d.createElement('scr'+'ipt'),
        p=(from_greader ? 'gr=1&' : '')+'a=&k=&u=' + e(href) + '&t=' + e(title) + '&s=' + e(s.length < 10240 ? s : '');
    
            var b = _greaderipb890687 ? '' : jbsipb890687(bodyipb890687);
        if (b.length > 256000) b = '';
    
    var i=document.createElement('iframe');
    i.setAttribute('name', 'ipb890687');
    i.setAttribute('id', 'ipb890687');

            var c = 'left:10px;top:10px;width:168px;';
        
    if (from_greader) c += ' position: absolute;';
    else c += ' position: fixed;';

    var ce, container = document.body;
    if (from_greader && (ce = document.getElementById('current-entry')) ) {
        container = ce;
        c += ' position: absolute;';
    }
    i.setAttribute('style', 'z-index: 2147483647;'+c+'width:168px;height: 100px; border: 3px solid #aaa;');
    container.appendChild(i);
    i.onload=function(){ setTimeout('_clipb890687_close()', 600); };

    p = e(p).replace(/'/g, '%27');
    b = e(b).replace(/'/g, '%27');
    window.frames['ipb890687'].document.write(
        '<html><body style="color: #555; background-color: #fff; text-align: center; margin: 0px; font-family: Georgia, Times, serif; font-size: 26px;">' +
                "<div style=\"position: absolute; bottom: 8px; left: 72px;\"><style>#sp{position:relative;width:20px;height:20px;}#sp div{width:2px;height:6px;background:#000;position:absolute;top:7px;left:9px;-moz-border-radius:2px;-webkit-border-radius:2px;}</style><div id=\"sp\"><scr"+"ipt>(function(c,d,i,t){window.setInterval(function(){var s=d.getElementById('sp');s.style.MozTransform=s.style.WebkitTransform='rotate('+c*30+'deg)';c=++c%12;},80);while(i--){t='-transform:rotate('+i*30+'deg) translate(0, -8px);';d.write('<div style=\"-moz'+t+'-webkit'+t+'opacity:'+i/12+';\"></div>');}})(0,document,12);</scr"+"ipt></div></div>" +
                '<div style="text-align: center; width: 80%; padding-bottom: 1px; margin: 0 auto 15px auto; font-size: 13px; border-bottom: 1px solid #ccc; color: #333;">Instapaper</div>' +
        '<div id="txt">Saving...</div>' +
                '<form action="' + document.location.protocol + '//www.instapaper.com/bookmarklet/post_v5" method="post" id="f" accept-charset="utf-8">' +
        '<input type="hidden" name="p" id="p" value=""/>' +
        '<input type="hidden" name="b" id="b" value=""/>' +
        '<input type="hidden" name="id" value="ipb890687"/>' +
        '</form>' +
                "<scr"+"ipt>var e=encodeURIComponent,w=window,d=document,x=w.XMLHttpRequest?new XMLHttpRequest():(w.ActiveXObject?new ActiveXObject('Microsoft.XMLHTTP'):0),f=d.getElementById('f');" +
        "d.getElementById('b').value=decodeURIComponent('" + b + "');d.getElementById('p').value=decodeURIComponent('" + p + "');" +
        "try{if(!x)throw(0);x.open('POST','"+document.location.protocol+"//www.instapaper.com/bookmarklet/post_v5',true);x.setRequestHeader('Content-Type','application/x-www-form-urlencoded');x.onreadystatechange=function(){if(x.readyState==4){if(x.status==200){try{eval(x.responseText);setTimeout('parent._clipb890687_close()', 600)}catch(e){}}else d.getElementById('f').submit();}};x.send('a=&cu=&cp=&ch=&ce=&p=" +
        p + "&b=" + b +
        "');}catch(e){" +
        "d.getElementById('f').submit();" +
        "}</scr"+"ipt></body></html>"
    );
}

function _rlipb890687(){var title,d=document,l=d.location,href=l.href;
d.title = title = d.title.substring(12);
if (typeof iptstbt != 'undefined') { alert("The bookmarklet is correctly installed."); throw(0); }

    var d=document,
        l=d.location,
        e=window.getSelection,
        k=d.getSelection,
        x=d.selection,
        s=String(e? e(): (k)? k(): (x?x.createRange().text: '')),
        e=encodeURIComponent;
    
    window.location.href = (
        document.location.protocol + "//www.instapaper.com/hello2?cookie-notice=1&u=" +
        e(l.href) + '&t=' + e(d.title) + '&s=' + e(s)
    );
    }_rlipb890687();void(0)